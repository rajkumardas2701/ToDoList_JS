(()=>{"use strict";const e=[],t=[{name:"Default",todo:e}],n=()=>({deleteProject:e=>{t.splice(t[e.value],1)},addProject:(e,n=[])=>{t.push({name:e,todo:n})},projects:t,deleteTodoFromProj:e=>{for(let n=0;n<t.length;n+=1)for(let o=0;o<t[n].todo.length;o+=1)t[n].todo[o].title===e&&t[n].todo.splice(o,1)},updateProject:(e,n)=>{for(let o=0;o<t.length;o+=1)t[o].name===e&&t[o].todo.push(n)},editToDofromProj:(e,n)=>{for(let o=0;o<t.length;o+=1)for(let d=0;d<t[o].todo.length;d+=1)t[o].todo[d].title===e&&(t[o].todo[d].title=n.title,t[o].todo[d].description=n.description,t[o].todo[d].dueDate=n.dueDate,t[o].todo[d].priority=n.priority,t[o].todo[d].notes=n.notes)}}),o=()=>{const o=()=>{const e=document.getElementById("app-body"),t=document.createElement("div");t.setAttribute("id","project-section"),e.appendChild(t);const n=document.createElement("div");n.setAttribute("class","project-header"),t.appendChild(n);const o=document.createElement("h2");n.appendChild(o),o.innerHTML="Projects";const d=document.createElement("button");n.appendChild(d),d.setAttribute("id","add-project-btn"),d.innerHTML="Add Project";const l=document.createElement("div");return l.setAttribute("id","project-list"),t.appendChild(l),{displayProjects:e=>{for(let t=0;t<e.length;t+=1){const n=document.createElement("li");n.setAttribute("class","project"),n.innerHTML=`${e[t].name}`,l.appendChild(n)}}}},d=()=>{let o=[];document.getElementById("todos-list").addEventListener("click",(()=>{document.getElementById("todo-delete")&&document.getElementById("todo-delete").addEventListener("click",(d=>{const l=d.target.parentElement.parentElement.childNodes[0].textContent.split(" ")[1];(t=>{for(let n=0;n<e.length;n+=1)e[n].title===t&&e.splice(n,1)})(l),n().deleteTodoFromProj(l);const i=document.getElementById("todos-header-text").innerHTML.split(" ")[0];for(let e=0;e<t.length;e+=1)t[e].name===i&&(o=t[e].todo);r(o)}))}))},l=(e,t)=>{for(let n=0;n<e.length;n+=1){const o=document.createElement("div");o.setAttribute("class","to-do-obj");const d=document.createElement("label");d.innerHTML=`<b>Title: </b>${e[n].title}`,o.appendChild(d);const l=document.createElement("label");l.innerHTML=`<b>Description: </b>${e[n].description}`,o.appendChild(l);const i=document.createElement("label");i.innerHTML=`<b>Due Date: </b>${e[n].dueDate}`,o.appendChild(i);const r=document.createElement("label");r.innerHTML=`<b>Priority: </b>${e[n].priority}`,"High"===e[n].priority?r.style.color="red":"Medium"===e[n].priority?r.style.color="orange":r.style.color="rgb(7, 173, 118)",o.appendChild(r);const c=document.createElement("label");c.innerHTML=`<b>Note: </b>${e[n].notes}`,o.appendChild(c);const s=document.createElement("div");s.setAttribute("class","edit-delete"),o.appendChild(s);const a=document.createElement("i");a.setAttribute("class","far fa-edit"),a.setAttribute("id","todo-edit"),s.appendChild(a);const m=document.createElement("i");m.setAttribute("class","far fa-trash-alt"),m.setAttribute("id","todo-delete"),s.appendChild(m),t.appendChild(o)}d(),u()},i=e=>{const t=document.getElementById("todos-list");if(t)l(e,t);else{const t=document.getElementById("todos-section"),n=document.createElement("div");n.setAttribute("id","todos-list"),t.appendChild(n),l(e,n)}d()},r=e=>{document.getElementById("todos-list").remove(),i(e)},c=e=>{const t=document.getElementById("project-list");if(t){const n=document.createElement("li");n.setAttribute("class","project"),n.innerHTML=`${e}`,t.appendChild(n)}else o().displayProjects(e)},s=()=>{if(document.getElementById("new-project-form"))document.querySelector("#new-project-form").classList.remove("hide-new-project-form");else{const t=document.getElementById("content"),n=document.createElement("form");n.setAttribute("id","new-project-form"),t.appendChild(n);const o=document.createElement("div");o.setAttribute("class","project-attr"),n.appendChild(o);const d=document.createElement("label");d.setAttribute("class","form-label"),d.innerHTML="Project Name: ",o.appendChild(d);const l=document.createElement("input");l.setAttribute("id","form-input"),o.appendChild(l);const i=document.createElement("div");i.setAttribute("class","todo-sec"),n.appendChild(i);for(let t=0;t<e.length;t+=1){const n=document.createElement("div");n.setAttribute("class","todo-item"),i.appendChild(n);const o=document.createElement("label");o.setAttribute("class","todo-label"),o.innerHTML=`${e[t].title}`,n.appendChild(o);const d=document.createElement("input");d.setAttribute("type","checkbox"),n.appendChild(d)}const r=document.createElement("button");r.setAttribute("id","project-submit"),r.innerHTML="Submit",n.appendChild(r)}document.getElementById("project-submit")&&document.getElementById("project-submit").addEventListener("click",(t=>{t.preventDefault();const o=[];for(let n=0;n<e.length;n+=1)t.target.form[n+1].checked&&o.push(e[n]);n().addProject(document.getElementById("form-input").value,o),c(document.getElementById("form-input").value),document.getElementById("new-project-form").remove()}))},a=()=>{document.getElementById("todo-submit").addEventListener("click",(t=>{t.preventDefault();const o={title:t.target.form[0].value,description:t.target.form[1].value,dueDate:t.target.form[2].value,priority:t.target.form[3].value,notes:t.target.form[4].value};e.push(o),(e=>{const t=document.getElementById("todos-list"),n=document.createElement("div");n.setAttribute("class","to-do-obj");const o=document.createElement("label");o.innerHTML=`<b>Title: </b>${e.title}`,n.appendChild(o);const d=document.createElement("label");d.innerHTML=`<b>Description: </b>${e.description}`,n.appendChild(d);const l=document.createElement("label");l.innerHTML=`<b>Due Date: </b>${e.dueDate}`,n.appendChild(l);const i=document.createElement("label");i.innerHTML=`<b>Priority: </b>${e.priority}`,i.style.color="High"===e.priority?"red":"Medium"===e.priority?"orange":"rgb(7, 173, 118)",n.appendChild(i);const r=document.createElement("label");r.innerHTML=`<b>Note: </b>${e.notes}`,n.appendChild(r);const c=document.createElement("div");c.setAttribute("class","edit-delete"),n.appendChild(c);const s=document.createElement("i");s.setAttribute("class","far fa-edit"),s.setAttribute("id","todo-edit"),c.appendChild(s);const a=document.createElement("i");a.setAttribute("class","far fa-trash-alt"),a.setAttribute("id","todo-delete"),c.appendChild(a),t.appendChild(n)})(o);const d=document.getElementById("todos-header-text").innerHTML.split(" ")[0];"Default"!==d&&n().updateProject(d,o),document.getElementById("to-do-form-sec").remove()}))},m=e=>{e.preventDefault();const t=document.getElementById("app-body"),n=document.createElement("form");n.setAttribute("id","to-do-form-sec"),t.appendChild(n);const o=document.createElement("h4");o.setAttribute("id","todo-header"),o.innerHTML="Create a Task",n.appendChild(o);const d=document.createElement("div");d.setAttribute("class","form-elements"),n.appendChild(d);const l=document.createElement("label");l.setAttribute("class","todo-form-label"),l.innerHTML="Title",d.appendChild(l);const i=document.createElement("input");i.setAttribute("class","form-text"),d.appendChild(i);const r=document.createElement("div");r.setAttribute("class","form-elements"),n.appendChild(r);const c=document.createElement("label");c.setAttribute("class","todo-form-label"),c.innerHTML="Description",r.appendChild(c);const s=document.createElement("textarea");s.setAttribute("class","form-text"),r.appendChild(s);const m=document.createElement("div");m.setAttribute("class","form-elements"),n.appendChild(m);const u=document.createElement("label");u.setAttribute("class","todo-form-label"),u.innerHTML="Due Date",m.appendChild(u);const p=document.createElement("input");p.setAttribute("type","date"),p.setAttribute("class","form-text"),m.appendChild(p);const b=document.createElement("div");b.setAttribute("class","form-elements"),n.appendChild(b);const E=document.createElement("label");E.setAttribute("class","todo-form-label"),E.innerHTML="Priority",b.appendChild(E);const h=document.createElement("select");h.setAttribute("class","priority"),b.appendChild(h);const f=document.createElement("option");f.setAttribute("value","High"),h.appendChild(f),f.innerHTML="High";const C=document.createElement("option");C.setAttribute("value","Medium"),h.appendChild(C),C.innerHTML="Medium";const A=document.createElement("option");A.setAttribute("value","Low"),h.appendChild(A),A.innerHTML="Low";const y=document.createElement("div");y.setAttribute("class","form-elements"),n.appendChild(y);const g=document.createElement("label");g.setAttribute("class","todo-form-label"),g.innerHTML="Notes",y.appendChild(g);const v=document.createElement("textarea");v.setAttribute("class","form-text"),y.appendChild(v);const T=document.createElement("button");T.setAttribute("id","todo-submit"),T.innerHTML="Submit",n.appendChild(T),a()},u=()=>{document.getElementById("todos-list").addEventListener("click",(()=>{document.getElementById("todo-edit")&&document.getElementById("todo-edit").addEventListener("click",(e=>{p(e.target.parentNode.parentNode.firstChild.innerText.split(" ")[1])}))}))},p=t=>{let n={};for(let o=0;o<e.length;o+=1)e[o].title===t&&(n={title:`${e[o].title}`,description:`${e[o].description}`,dueDate:`${e[o].dueDate}`,priority:`${e[o].priority}`,notes:`${e[o].notes}`});b(n)},b=t=>{const o=document.getElementById("app-body"),d=document.createElement("form");d.setAttribute("id","to-do-form-sec"),o.appendChild(d);const l=document.createElement("h4");l.setAttribute("id","todo-header"),l.innerHTML="Edit Task",d.appendChild(l);const i=document.createElement("div");i.setAttribute("class","form-elements"),d.appendChild(i);const r=document.createElement("label");r.setAttribute("class","todo-form-label"),r.innerHTML="Title",i.appendChild(r);const c=document.createElement("input");c.setAttribute("class","form-text"),c.value=`${t.title}`,i.appendChild(c);const s=document.createElement("div");s.setAttribute("class","form-elements"),d.appendChild(s);const a=document.createElement("label");a.setAttribute("class","todo-form-label"),a.innerHTML="Description",s.appendChild(a);const m=document.createElement("textarea");m.setAttribute("class","form-text"),m.value=`${t.description}`,s.appendChild(m);const u=document.createElement("div");u.setAttribute("class","form-elements"),d.appendChild(u);const p=document.createElement("label");p.setAttribute("class","todo-form-label"),p.innerHTML="Due Date",u.appendChild(p);const b=document.createElement("input");b.setAttribute("type","date"),b.setAttribute("class","form-text"),b.value=`${t.dueDate}`,u.appendChild(b);const E=document.createElement("div");E.setAttribute("class","form-elements"),d.appendChild(E);const h=document.createElement("label");h.setAttribute("class","todo-form-label"),h.innerHTML="Priority",E.appendChild(h);const f=document.createElement("select");f.setAttribute("id","priority"),f.value=`${t.priority}`,E.appendChild(f);const C=document.createElement("option");C.setAttribute("value","High"),f.appendChild(C),C.innerHTML="High";const A=document.createElement("option");A.setAttribute("value","Medium"),f.appendChild(A),A.innerHTML="Medium";const y=document.createElement("option");y.setAttribute("value","Low"),f.appendChild(y),y.innerHTML="Low";for(let e=0;e<f.options.length;e+=1)f.options[e].value===t.priority&&(f.options[e].selected=!0);const g=document.createElement("div");g.setAttribute("class","form-elements"),d.appendChild(g);const v=document.createElement("label");v.setAttribute("class","todo-form-label"),v.innerHTML="Notes",g.appendChild(v);const T=document.createElement("textarea");T.setAttribute("class","form-text"),T.value=`${t.notes}`,g.appendChild(T);const L=document.createElement("button");var H;L.setAttribute("id","todo-edit-submit"),L.innerHTML="Submit",d.appendChild(L),H=t.title,document.getElementById("todo-edit-submit").addEventListener("click",(t=>{t.preventDefault();const o={title:t.target.form[0].value,description:t.target.form[1].value,dueDate:t.target.form[2].value,priority:t.target.form[3].value,notes:t.target.form[4].value};((t,n)=>{for(let o=0;o<e.length;o+=1)if(e[o].title===t){e[o].title=n.title,e[o].description=n.description,e[o].dueDate=n.dueDate,e[o].priority=n.priority,e[o].notes=n.notes;break}})(H,o),n().editToDofromProj(H,o),document.getElementById("to-do-form-sec").remove()}))};return{navbar:()=>{const e=document.getElementById("content"),t=document.createElement("div");t.setAttribute("class","navbar"),e.appendChild(t);const n=document.createElement("h1");n.setAttribute("id","nav-text"),t.appendChild(n),n.innerHTML="To-Do List App"},proj:o,addNewProjectForm:()=>{document.getElementById("add-project-btn").addEventListener("click",s)},displayProjects:c,todos:()=>{const e=document.getElementById("app-body"),t=document.createElement("div");t.setAttribute("id","todos-section"),e.appendChild(t);const n=document.createElement("div");n.setAttribute("class","todos-header"),t.appendChild(n);const o=document.createElement("h2");o.setAttribute("id","todos-header-text"),n.appendChild(o),o.innerHTML="Default To-Dos";const d=document.createElement("button");n.appendChild(d),d.setAttribute("id","add-todos-btn"),d.innerHTML="Add Task";const l=document.createElement("div");l.setAttribute("id","todos-list"),t.appendChild(l)},createAppBody:()=>{const e=document.getElementById("content"),t=document.createElement("div");t.setAttribute("id","app-body"),e.appendChild(t)},addNewToDoForm:()=>{document.getElementById("add-todos-btn").addEventListener("click",m)},todoSubmitBtn:a,displayTodos:i,getProjectTodos:()=>{document.getElementById("project-list").addEventListener("click",(e=>{let n=[];for(let o=0;o<t.length;o+=1)t[o].name===e.target.textContent&&(n=t[o].todo);document.getElementById("todos-header-text").innerHTML=`${e.target.textContent} To-Dos`,r(n)}))},deleteTodo:d,editTodos:u}};o().navbar(),o().createAppBody(),o().displayProjects(t),o().addNewProjectForm(),o().todos(),o().addNewToDoForm(),o().displayTodos(e),o().getProjectTodos(),o().deleteTodo(),o().editTodos()})();