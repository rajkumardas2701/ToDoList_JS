(()=>{"use strict";const e=[],t=[{name:"Default",todo:e}],n=()=>({deleteProject:e=>{t.splice(t[e.value],1)},addProject:(e,n=[])=>{t.push({name:e,todo:n})},projects:t,deleteTodoFromProj:e=>{for(let n=0;n<t.length;n+=1)for(let o=0;o<t[n].todo.length;o+=1)t[n].todo[o].title===e&&t[n].todo.splice(o,1)}}),o=()=>{const o=()=>{const e=document.getElementById("app-body"),t=document.createElement("div");t.setAttribute("id","project-section"),e.appendChild(t);const n=document.createElement("div");n.setAttribute("class","project-header"),t.appendChild(n);const o=document.createElement("h2");n.appendChild(o),o.innerHTML="Projects";const d=document.createElement("button");n.appendChild(d),d.setAttribute("id","add-project-btn"),d.innerHTML="Add Project";const l=document.createElement("div");return l.setAttribute("id","project-list"),t.appendChild(l),{displayProjects:e=>{for(let t=0;t<e.length;t+=1){const n=document.createElement("li");n.setAttribute("class","project"),n.innerHTML=`${e[t].name}`,l.appendChild(n)}}}},d=()=>{let o=[];document.getElementById("todos-list").addEventListener("click",(()=>{document.getElementById("todo-delete")&&document.getElementById("todo-delete").addEventListener("click",(d=>{const l=d.target.parentElement.parentElement.childNodes[0].textContent.split(" ")[1];(t=>{for(let n=0;n<e.length;n+=1)e[n].title===t&&e.splice(n,1)})(l),n().deleteTodoFromProj(l);const c=document.getElementById("todos-header-text").innerHTML.split(" ")[0];for(let e=0;e<t.length;e+=1)t[e].name===c&&(o=t[e].todo);r(o)}))}))},l=(e,t)=>{for(let n=0;n<e.length;n+=1){const o=document.createElement("div");o.setAttribute("class","to-do-obj");const d=document.createElement("label");d.innerHTML=`<b>Title: </b>${e[n].title}`,o.appendChild(d);const l=document.createElement("label");l.innerHTML=`<b>Description: </b>${e[n].description}`,o.appendChild(l);const c=document.createElement("label");c.innerHTML=`<b>Due Date: </b>${e[n].dueDate}`,o.appendChild(c);const r=document.createElement("label");r.innerHTML=`<b>Priority: </b>${e[n].priority}`,"High"===e[n].priority?r.style.color="red":"Medium"===e[n].priority?r.style.color="orange":r.style.color="rgb(7, 173, 118)",o.appendChild(r);const i=document.createElement("label");i.innerHTML=`<b>Note: </b>${e[n].notes}`,o.appendChild(i);const s=document.createElement("div");s.setAttribute("class","edit-delete"),o.appendChild(s);const a=document.createElement("i");a.setAttribute("class","far fa-edit"),a.setAttribute("id","todo-edit"),s.appendChild(a);const m=document.createElement("i");m.setAttribute("class","far fa-trash-alt"),m.setAttribute("id","todo-delete"),s.appendChild(m),t.appendChild(o)}d()},c=e=>{const t=document.getElementById("todos-list");if(t)l(e,t);else{const t=document.getElementById("todos-section"),n=document.createElement("div");n.setAttribute("id","todos-list"),t.appendChild(n),l(e,n)}d()},r=e=>{document.getElementById("todos-list").remove(),c(e),d()},i=e=>{const t=document.getElementById("project-list");if(t){const n=document.createElement("li");n.setAttribute("class","project"),n.innerHTML=`${e}`,t.appendChild(n)}else o().displayProjects(e)},s=()=>{if(document.getElementById("new-project-form"))document.querySelector("#new-project-form").classList.remove("hide-new-project-form");else{const t=document.getElementById("content"),n=document.createElement("form");n.setAttribute("id","new-project-form"),t.appendChild(n);const o=document.createElement("div");o.setAttribute("class","project-attr"),n.appendChild(o);const d=document.createElement("label");d.setAttribute("class","form-label"),d.innerHTML="Project Name: ",o.appendChild(d);const l=document.createElement("input");l.setAttribute("id","form-input"),o.appendChild(l);const c=document.createElement("div");c.setAttribute("class","todo-sec"),n.appendChild(c);for(let t=0;t<e.length;t+=1){const n=document.createElement("div");n.setAttribute("class","todo-item"),c.appendChild(n);const o=document.createElement("label");o.setAttribute("class","todo-label"),o.innerHTML=`${e[t].title}`,n.appendChild(o);const d=document.createElement("input");d.setAttribute("type","checkbox"),n.appendChild(d)}const r=document.createElement("button");r.setAttribute("id","project-submit"),r.innerHTML="Submit",n.appendChild(r)}document.getElementById("project-submit")&&document.getElementById("project-submit").addEventListener("click",(t=>{t.preventDefault();const o=[];for(let n=0;n<e.length;n+=1)t.target.form[n+1].checked&&o.push(e[n]);n().addProject(document.getElementById("form-input").value,o),i(document.getElementById("form-input").value),document.getElementById("new-project-form").remove()}))},a=()=>{document.getElementById("todo-submit").addEventListener("click",(t=>{t.preventDefault();const n={title:t.target.form[0].value,description:t.target.form[1].value,dueDate:t.target.form[2].value,priority:t.target.form[3].value,notes:t.target.form[4].value};e.push(n),(e=>{const t=document.getElementById("todos-list"),n=document.createElement("div");n.setAttribute("class","to-do-obj");const o=document.createElement("label");o.innerHTML=`<b>Title: </b>${e.title}`,n.appendChild(o);const d=document.createElement("label");d.innerHTML=`<b>Description: </b>${e.description}`,n.appendChild(d);const l=document.createElement("label");l.innerHTML=`<b>Due Date: </b>${e.dueDate}`,n.appendChild(l);const c=document.createElement("label");c.innerHTML=`<b>Priority: </b>${e.priority}`,c.style.color="High"===e.priority?"red":"Medium"===e.priority?"orange":"rgb(7, 173, 118)",n.appendChild(c);const r=document.createElement("label");r.innerHTML=`<b>Note: </b>${e.notes}`,n.appendChild(r);const i=document.createElement("div");i.setAttribute("class","edit-delete"),n.appendChild(i);const s=document.createElement("i");s.setAttribute("class","far fa-edit"),s.setAttribute("id","todo-edit"),i.appendChild(s);const a=document.createElement("i");a.setAttribute("class","far fa-trash-alt"),a.setAttribute("id","todo-delete"),i.appendChild(a),t.appendChild(n)})(n),document.getElementById("to-do-form-sec").remove()}))},m=e=>{e.preventDefault();const t=document.getElementById("app-body"),n=document.createElement("form");n.setAttribute("id","to-do-form-sec"),t.appendChild(n);const o=document.createElement("h4");o.setAttribute("id","todo-header"),o.innerHTML="Create a Task",n.appendChild(o);const d=document.createElement("div");d.setAttribute("class","form-elements"),n.appendChild(d);const l=document.createElement("label");l.setAttribute("class","todo-form-label"),l.innerHTML="Title",d.appendChild(l);const c=document.createElement("input");c.setAttribute("class","form-text"),d.appendChild(c);const r=document.createElement("div");r.setAttribute("class","form-elements"),n.appendChild(r);const i=document.createElement("label");i.setAttribute("class","todo-form-label"),i.innerHTML="Description",r.appendChild(i);const s=document.createElement("textarea");s.setAttribute("class","form-text"),r.appendChild(s);const m=document.createElement("div");m.setAttribute("class","form-elements"),n.appendChild(m);const p=document.createElement("label");p.setAttribute("class","todo-form-label"),p.innerHTML="Due Date",m.appendChild(p);const u=document.createElement("input");u.setAttribute("type","date"),u.setAttribute("class","form-text"),m.appendChild(u);const b=document.createElement("div");b.setAttribute("class","form-elements"),n.appendChild(b);const E=document.createElement("label");E.setAttribute("class","todo-form-label"),E.innerHTML="Priority",b.appendChild(E);const h=document.createElement("select");h.setAttribute("class","priority"),b.appendChild(h);const C=document.createElement("option");C.setAttribute("value","High"),h.appendChild(C),C.innerHTML="High";const A=document.createElement("option");A.setAttribute("value","Medium"),h.appendChild(A),A.innerHTML="Medium";const f=document.createElement("option");f.setAttribute("value","Low"),h.appendChild(f),f.innerHTML="Low";const y=document.createElement("div");y.setAttribute("class","form-elements"),n.appendChild(y);const g=document.createElement("label");g.setAttribute("class","todo-form-label"),g.innerHTML="Notes",y.appendChild(g);const v=document.createElement("textarea");v.setAttribute("class","form-text"),y.appendChild(v);const T=document.createElement("button");T.setAttribute("id","todo-submit"),T.innerHTML="Submit",n.appendChild(T),a()};return{navbar:()=>{const e=document.getElementById("content"),t=document.createElement("div");t.setAttribute("class","navbar"),e.appendChild(t);const n=document.createElement("h1");n.setAttribute("id","nav-text"),t.appendChild(n),n.innerHTML="To-Do List App"},proj:o,addNewProjectForm:()=>{document.getElementById("add-project-btn").addEventListener("click",s)},displayProjects:i,todos:()=>{const e=document.getElementById("app-body"),t=document.createElement("div");t.setAttribute("id","todos-section"),e.appendChild(t);const n=document.createElement("div");n.setAttribute("class","todos-header"),t.appendChild(n);const o=document.createElement("h2");o.setAttribute("id","todos-header-text"),n.appendChild(o),o.innerHTML="Default To-Dos";const d=document.createElement("button");n.appendChild(d),d.setAttribute("id","add-todos-btn"),d.innerHTML="Add Task";const l=document.createElement("div");l.setAttribute("id","todos-list"),t.appendChild(l)},createAppBody:()=>{const e=document.getElementById("content"),t=document.createElement("div");t.setAttribute("id","app-body"),e.appendChild(t)},addNewToDoForm:()=>{document.getElementById("add-todos-btn").addEventListener("click",m)},todoSubmitBtn:a,displayTodos:c,getProjectTodos:()=>{document.getElementById("project-list").addEventListener("click",(e=>{let n=[];for(let o=0;o<t.length;o+=1)t[o].name===e.target.textContent&&(n=t[o].todo);document.getElementById("todos-header-text").innerHTML=`${e.target.textContent} To-Dos`,r(n)}))},deleteTodo:d}};o().navbar(),o().createAppBody(),o().displayProjects(t),o().addNewProjectForm(),o().todos(),o().addNewToDoForm(),o().displayTodos(e),o().getProjectTodos(),o().deleteTodo()})();